<!DOCTYPE html>
<html lang="mr">
<head>
  <meta charset="UTF-8">
  <title>‡§¶‡•Ç‡§ß ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§´‡•â‡§∞‡•ç‡§Æ</title>
  <link href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #f8f8f8;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      background: #ffffff;
      padding: 30px 40px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      width: 360px;
    }
    h2 { text-align: center; color: #d35400; font-family: 'Baloo 2', cursive; font-size: 28px; font-weight: 700; margin-bottom: 5px; }
    h3 { text-align: center; color: #2c3e50; font-size: 18px; margin-bottom: 20px; }
    .notification { display: none; text-align: center; padding: 10px; border-radius: 6px; margin-bottom: 15px; font-weight: bold; }
    .success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
    .error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
    label { font-weight: bold; display: block; margin-top: 15px; color: #34495e; }
    input, select, button { width: 100%; padding: 10px; margin-top: 5px; border-radius: 6px; border: 1px solid #ccc; box-sizing: border-box; font-size: 14px; }
    .bill { margin-top: 10px; font-weight: bold; color: #e67e22; }
    .stock { margin-top: 10px; font-weight: bold; color: #2980b9; text-align: center; }
    button { background-color: #27ae60; color: white; border: none; cursor: pointer; margin-top: 20px; font-weight: bold; transition: 0.3s; }
    button:hover { background-color: #2ecc71; }
    .cancel-button { background-color: #e74c3c; }
    .cancel-button:hover { background-color: #ff5c5c; }
    .button-group { display: flex; justify-content: space-between; gap: 10px; }
  </style>
</head>
<body>
<div class="container">
  <h2>‡§∏‡§æ‡§µ‡§∞‡§ø‡§Ø‡§æ ‡§°‡•á‡§Ö‡§∞‡•Ä ‡§´‡§æ‡§∞‡•ç‡§Æ, ‡§ï‡•ã‡§Ç‡§¢‡§æ‡§µ‡§≥</h2>
  <h3>‡§¶‡•Ç‡§ß ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§´‡•â‡§∞‡•ç‡§Æ</h3>

  <div id="notification" class="notification"></div>

  <div class="stock" id="stockInfo">‡§∏‡§ï‡§æ‡§≥ Stock: 10 ‡§≤‡•Ä‡§ü‡§∞ | ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥ Stock: 10 ‡§≤‡•Ä‡§ü‡§∞</div>

  <form id="orderForm">
    <label>‡§§‡§æ‡§∞‡•Ä‡§ñ:</label>
    <input type="date" id="date">

    <label>‡§®‡§æ‡§µ:</label>
    <input type="text" id="customerName" placeholder="‡§Ü‡§™‡§≤‡•á ‡§®‡§æ‡§µ ‡§ü‡§æ‡§ï‡§æ">

    <label>‡§ó‡§æ‡§µ:</label>
    <select id="village">
      <option value="‡§ï‡•ã‡§Ç‡§¢‡§æ‡§µ‡§≥">‡§ï‡•ã‡§Ç‡§¢‡§æ‡§µ‡§≥</option>
      <option value="‡§µ‡§°‡§æ‡§≥‡•Ä">‡§µ‡§°‡§æ‡§≥‡•Ä</option>
    </select>

    <label>‡§¶‡•Ç‡§ß‡§æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞:</label>
    <select id="milkType">
      <option value="‡§Æ‡•ç‡§π‡•à‡§∏">‡§Æ‡•ç‡§π‡•à‡§∏</option>
    </select>

    <label>‡§™‡•ç‡§∞‡§Æ‡§æ‡§£ (‡§ú‡§æ‡§∏‡•ç‡§§‡•Ä‡§§ ‡§ú‡§æ‡§∏‡•ç‡§§ 3 ‡§≤‡•Ä‡§ü‡§∞):</label>
    <input type="number" id="quantity" min="0.5" max="3" step="0.5" placeholder="0.5 ‡§§‡•á 3 ‡§≤‡•Ä‡§ü‡§∞" oninput="calculateBill()">

    <div class="bill" id="totalBill">‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ0</div>

    <label>‡§µ‡•á‡§≥:</label>
    <select id="time">
      <option value="‡§∏‡§ï‡§æ‡§≥">‡§∏‡§ï‡§æ‡§≥</option>
      <option value="‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥">‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥</option>
    </select>

    <label>‡§Ü‡§™‡§≤‡§æ ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï ‡§®‡§Ç‡§¨‡§∞:</label>
    <input type="text" id="contactNumber" placeholder="‡§Ü‡§™‡§≤‡§æ ‡§®‡§Ç‡§¨‡§∞ ‡§™‡•ç‡§∞‡§µ‡§ø‡§∑‡•ç‡§ü ‡§ï‡§∞‡§æ">

    <div class="button-group">
      <button type="button" onclick="sendSMS()">Submit</button>
      <button type="button" class="cancel-button" onclick="cancelForm()">‡§∞‡§¶‡•ç‡§¶ ‡§ï‡§∞‡§æ</button>
    </div>
  </form>
</div>

<script>
const farmNumber = "8605650394";
const ratePerLiter = 80;
const maxPerUser = 3;

let morningStock = 10;
let eveningStock = 10;
let lastDate = null;

function showNotification(message, type) {
  const notification = document.getElementById("notification");
  notification.innerText = message;
  notification.className = "notification " + type;
  notification.style.display = "block";
  setTimeout(() => { notification.style.display = "none"; }, 4000);
}

function updateStockInfo() {
  document.getElementById("stockInfo").innerText = `‡§∏‡§ï‡§æ‡§≥ Stock: ${morningStock} ‡§≤‡•Ä‡§ü‡§∞ | ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥ Stock: ${eveningStock} ‡§≤‡•Ä‡§ü‡§∞`;
}

function updateTimeOptions() {
  const timeSelect = document.getElementById("time");
  timeSelect.querySelector('option[value="‡§∏‡§ï‡§æ‡§≥"]').disabled = (morningStock <= 0);
  timeSelect.querySelector('option[value="‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥"]').disabled = (eveningStock <= 0);
  if (timeSelect.value === "‡§∏‡§ï‡§æ‡§≥" && morningStock <= 0) timeSelect.value = (eveningStock>0)?"‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥":"";
  if (timeSelect.value === "‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥" && eveningStock <= 0) timeSelect.value = (morningStock>0)?"‡§∏‡§ï‡§æ‡§≥":"";
}

function resetStockIfNewDay() {
  const today = document.getElementById("date").value;
  if (lastDate !== today) {
    morningStock = 10;
    eveningStock = 10;
    lastDate = today;
    updateStockInfo();
    updateTimeOptions();
  }
}

function calculateBill() {
  resetStockIfNewDay();
  let quantity = parseFloat(document.getElementById("quantity").value);
  if (!quantity || quantity < 0.5) quantity = 0;
  if (quantity > maxPerUser) {
    showNotification(`‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§Ø‡•Å‡§ú‡§∞‡§≤‡§æ ‡§ú‡§æ‡§∏‡•ç‡§§‡•Ä‡§§ ‡§ú‡§æ‡§∏‡•ç‡§§ ${maxPerUser} ‡§≤‡•Ä‡§ü‡§∞ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§Ø‡•á‡§à‡§≤.`, "error");
    document.getElementById("quantity").value = "";
    document.getElementById("totalBill").innerText = "‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ0";
    return;
  }
  document.getElementById("totalBill").innerText = `‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ${quantity*ratePerLiter}`;
  updateTimeOptions();
}

function sendSMS() {
  resetStockIfNewDay();

  let date = document.getElementById("date").value;
  let name = document.getElementById("customerName").value;
  let village = document.getElementById("village").value;
  let milkType = document.getElementById("milkType").value;
  let quantity = parseFloat(document.getElementById("quantity").value);
  let time = document.getElementById("time").value;
  let contactNumber = document.getElementById("contactNumber").value;

  if (!date || !name || !village || !milkType || !quantity || !time || !contactNumber) {
    showNotification("‡§ï‡•É‡§™‡§Ø‡§æ ‡§∏‡§∞‡•ç‡§µ ‡§§‡§™‡§∂‡•Ä‡§≤ ‡§≠‡§∞‡§æ!", "error");
    return;
  }

  if (quantity > maxPerUser) {
    showNotification(`‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§Ø‡•Å‡§ú‡§∞‡§≤‡§æ ‡§ú‡§æ‡§∏‡•ç‡§§‡•Ä‡§§ ‡§ú‡§æ‡§∏‡•ç‡§§ ${maxPerUser} ‡§≤‡•Ä‡§ü‡§∞ ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§ï‡§∞‡§§‡§æ ‡§Ø‡•á‡§à‡§≤.`, "error");
    return;
  }
  if (quantity < 0.5) {
    showNotification("‡§ï‡•É‡§™‡§Ø‡§æ ‡§ï‡§ø‡§Æ‡§æ‡§® 0.5 ‡§≤‡•Ä‡§ü‡§∞ ‡§ü‡§æ‡§ï‡§æ.", "error");
    return;
  }

  if (time === "‡§∏‡§ï‡§æ‡§≥") {
    if (quantity > morningStock) { showNotification("‡§ï‡•ç‡§∑‡§Æ‡§∏‡•ç‡§µ! ‡§∏‡§ï‡§æ‡§≥‡§ö‡§æ ‡§∏‡•ç‡§ü‡•â‡§ï ‡§∏‡§Ç‡§™‡§≤‡§æ ‡§Ü‡§π‡•á.", "error"); return; }
    morningStock -= quantity;
  } else if (time === "‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥") {
    if (quantity > eveningStock) { showNotification("‡§ï‡•ç‡§∑‡§Æ‡§∏‡•ç‡§µ! ‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥‡§ö‡§æ ‡§∏‡•ç‡§ü‡•â‡§ï ‡§∏‡§Ç‡§™‡§≤‡§æ ‡§Ü‡§π‡•á.", "error"); return; }
    eveningStock -= quantity;
  }

  let totalBill = quantity * ratePerLiter;
  let message = `‡§∏‡§æ‡§µ‡§∞‡§ø‡§Ø‡§æ ‡§°‡•á‡§Ö‡§∞‡•Ä ‡§´‡§æ‡§∞‡•ç‡§Æ, ‡§ï‡•ã‡§Ç‡§¢‡§æ‡§µ‡§≥\n‡§¶‡•Ç‡§ß ‡§ë‡§∞‡•ç‡§°‡§∞ ‡§§‡§™‡§∂‡•Ä‡§≤\n\n` +
                `- ‡§§‡§æ‡§∞‡•Ä‡§ñ: ${date}\n- ‡§®‡§æ‡§µ: ${name}\n- ‡§ó‡§æ‡§µ: ${village}\n- ‡§¶‡•Ç‡§ß‡§æ‡§ö‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞: ${milkType}\n` +
                `- ‡§™‡•ç‡§∞‡§Æ‡§æ‡§£: ${quantity} ‡§≤‡•Ä‡§ü‡§∞\n- ‡§µ‡•á‡§≥: ${time}\n- ‡§∏‡§Ç‡§™‡§∞‡•ç‡§ï: ${contactNumber}\n- ‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ${totalBill}`;

  window.open("sms:"+farmNumber+"?body="+encodeURIComponent(message), "_blank");
  showNotification("‡§ë‡§∞‡•ç‡§°‡§∞ ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡•Ä‡§§‡•ç‡§Ø‡§æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡•Ä ‚úÖ", "success");

  updateStockInfo();
  updateTimeOptions();
  document.getElementById("orderForm").reset();
  document.getElementById("totalBill").innerText = "‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ0";
}

function cancelForm() {
  document.getElementById("orderForm").reset();
  document.getElementById("totalBill").innerText = "‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ0";
  updateTimeOptions();
}
</script>
</body>
</html>ç‡§°‡§∞ ‡§Ø‡§∂‡§∏‡•ç‡§µ‡•Ä‡§∞‡•Ä‡§§‡•ç‡§Ø‡§æ ‡§∏‡§¨‡§Æ‡§ø‡§ü ‡§ù‡§æ‡§≤‡•Ä ‚úÖ", "success");

      if ((morningStock<=0 && time==="‡§∏‡§ï‡§æ‡§≥") || (eveningStock<=0 && time==="‡§∏‡§Ç‡§ß‡•ç‡§Ø‡§æ‡§ï‡§æ‡§≥")) disableForm("‡§∏‡•ç‡§ü‡•â‡§ï ‡§∏‡§Ç‡§™‡§≤‡§æ ‡§Ü‡§π‡•á.");
    }

    function disableForm(msg) {
      showNotification(msg, "error");
      const formElements = document.getElementById("orderForm").elements;
      for (let i=0;i<formElements.length;i++) formElements[i].disabled=true;
    }

    function cancelForm() {
      document.getElementById("orderForm").reset();
      document.getElementById("totalBill").innerText = "‡§è‡§ï‡•Ç‡§£ ‡§¨‡§ø‡§≤: ‚Çπ0";
      resetStockIfNewDay();
    }

    window.onload = resetStockIfNewDay;
  </script>
</body>
</html>